(this.webpackJsonpconduct=this.webpackJsonpconduct||[]).push([[0],{30:function(e,t,n){e.exports=n(54)},35:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),l=n.n(c),i=(n(35),n(5)),o=n.n(i),s=n(10),u=n(11),m=n(12),p=n(14),f=n(15),d=n(1),h=n(28),g=n(6),b=n.n(g),E=(n(37),n(41),function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,r,c,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("at createUserProfileDocument"),t){e.next=3;break}return e.abrupt("return");case 3:return a=O.doc("/users/".concat(t.uid)),e.next=6,a.get();case 6:if((r=e.sent).exists){e.next=19;break}return c=t.displayName,l=t.email,i=new Date,e.prev=10,e.next=13,a.set(Object(h.a)({displayName:c,email:l,createdAt:i},n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.log("error creating user",e.t0.message);case 18:return e.abrupt("return",a);case 19:console.log(r);case 20:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n){return e.apply(this,arguments)}}());b.a.initializeApp({apiKey:"AIzaSyAw4QUanePOT7YmfxXCiRzsRdp9n6YjXWQ",authDomain:"trisakti-mg.firebaseapp.com",databaseURL:"https://trisakti-mg.firebaseio.com",projectId:"trisakti-mg",storageBucket:"trisakti-mg.appspot.com",messagingSenderId:"46891683449",appId:"1:46891683449:web:248d1c013cbc2133ca8ea8",measurementId:"G-0WRM9FW735"});var v=b.a.auth(),O=b.a.firestore(),y=new b.a.auth.GoogleAuthProvider;y.setCustomParameters({prompt:"select_account"});var k=function(){return v.signInWithPopup(y)},w=(b.a,n(43),n(44),n(13)),j=(n(45),n(16)),N=(n(46),function(e){var t=e.handleChange,n=e.label,a=Object(j.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},a)),n?r.a.createElement("label",{className:"".concat(a.value.length?"shrink":""," form-input-label")},n):null)}),S=(n(47),function(e){var t=e.children,n=Object(j.a)(e,["children"]);return r.a.createElement("button",Object.assign({className:"custom-button"},n),t)}),x=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.setState({username:"",password:""})},a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(w.a)({},r,n))},a.state={username:"",password:""},a}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h2",{className:"title"},"Trisakti-MG"),r.a.createElement("span",null,"Sign in with your username and password"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(N,{name:"username",type:"username",handleChange:this.handleChange,value:this.state.username,label:"username",required:!0}),r.a.createElement(N,{name:"password",type:"password",handleChange:this.handleChange,value:this.state.password,label:"password",required:!0}),r.a.createElement(S,{type:"submit"}," Sign In "),r.a.createElement(S,{onClick:k}," Sign In With Google ")))}}]),n}(a.Component),C=function(){return r.a.createElement("div",{className:"sign-in-and-sign-up"},r.a.createElement(x,null))},A=n(4);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var U=r.a.createElement("title",null,"Group"),P=r.a.createElement("desc",null,"Created with Sketch."),D=r.a.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},r.a.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},r.a.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),r.a.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),r.a.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2})))),G=function(e){var t=e.svgRef,n=e.title,a=R(e,["svgRef","title"]);return r.a.createElement("svg",I({width:"50px",height:"39px",viewBox:"0 0 50 39",ref:t},a),void 0===n?U:n?r.a.createElement("title",null,n):null,P,D)},W=r.a.forwardRef((function(e,t){return r.a.createElement(G,I({svgRef:t},e))})),T=(n.p,n(48),function(e){var t=e.currentUser;return r.a.createElement("div",{className:"header"},r.a.createElement(A.b,{className:"logo-container",to:"/"},r.a.createElement(W,{className:"logo"})),r.a.createElement("div",{className:"options"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(A.b,{className:"option",to:"/dashboard"},"DASHBOARD"),r.a.createElement(A.b,{className:"option",to:"/contact"},"CONTACT"),r.a.createElement("div",{className:"option",onClick:function(){return v.signOut()}},r.a.createElement(A.b,{to:"/signout"},"SIGN OUT"))):r.a.createElement(A.b,{className:"option",to:"/signin"},"Contact Support")))}),F=(n(53),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sign-out"},"YOU ARE SIGNED OUT"),r.a.createElement("br",null),r.a.createElement(A.b,{to:"/"},r.a.createElement(S,null,"Sign Back In")))}),B=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).unsubscribeFromAuth=null,e.state={currentUser:null},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=v.onAuthStateChanged(function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E(n),e.setState({currentUser:n}),console.log(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{currentUser:this.state.currentUser}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:C}),r.a.createElement(d.a,{path:"/signout",component:F})))}}]),n}(a.Component);l.a.render(r.a.createElement(A.a,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4538178c.chunk.js.map